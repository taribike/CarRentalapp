{
	"info": {
		"_postman_id": "car-rental-api-collection",
		"name": "Car Rental API Collection",
		"description": "Complete collection for testing Car Rental API endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Customers",
			"item": [
				{
					"name": "Get All Customers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customers",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers"
							]
						}
					}
				},
				{
					"name": "Get Customer by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customers/{{customer_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers",
								"{{customer_id}}"
							]
						}
					}
				},
				{
					"name": "Get Customer by Email",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customers/email/{{customer_email}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers",
								"email",
								"{{customer_email}}"
							]
						}
					}
				},
				{
					"name": "Create Customer",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Generate a unique email using timestamp",
									"const timestamp = Date.now();",
									"pm.variables.set(\"unique_email\", `customer${timestamp}@example.com`);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const responseData = pm.response.json();",
									"    pm.environment.set(\"customer_id\", responseData.id);",
									"    pm.environment.set(\"customer_email\", responseData.email);",
									"    console.log(\"Created customer ID:\", responseData.id);",
									"    console.log(\"Customer email:\", responseData.email);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"{{unique_email}}\",\n  \"phone\": \"+1234567890\",\n  \"address\": {\n    \"street\": \"123 Main St\",\n    \"city\": \"New York\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\",\n    \"country\": \"USA\"\n  },\n  \"dateOfBirth\": \"1990-01-15T00:00:00Z\",\n  \"driversLicense\": \"DL123456789\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/customers",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers"
							]
						}
					}
				},
				{
					"name": "Get or Create Customer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200 || pm.response.code === 201) {",
									"    const responseData = pm.response.json();",
									"    pm.environment.set(\"customer_id\", responseData.id);",
									"    pm.environment.set(\"customer_email\", responseData.email);",
									"    console.log(\"Customer ID:\", responseData.id);",
									"    console.log(\"Customer email:\", responseData.email);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"email\": \"jane.smith@example.com\",\n  \"phone\": \"+1987654321\",\n  \"address\": {\n    \"street\": \"456 Oak Ave\",\n    \"city\": \"Los Angeles\",\n    \"state\": \"CA\",\n    \"zipCode\": \"90210\",\n    \"country\": \"USA\"\n  },\n  \"dateOfBirth\": \"1985-05-20T00:00:00Z\",\n  \"driversLicense\": \"DL987654321\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/customers/get-or-create",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers",
								"get-or-create"
							]
						},
						"description": "Gets existing customer by email or creates a new one if it doesn't exist. This is useful to avoid duplicate email errors."
					}
				},
				{
					"name": "Update Customer",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Smith\",\n  \"phone\": \"+1234567891\",\n  \"address\": {\n    \"street\": \"456 Oak Ave\",\n    \"city\": \"Los Angeles\",\n    \"state\": \"CA\",\n    \"zipCode\": \"90210\",\n    \"country\": \"USA\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/customers/{{customer_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers",
								"{{customer_id}}"
							]
						}
					}
				},
				{
					"name": "Delete Customer",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/customers/{{customer_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"customers",
								"{{customer_id}}"
							]
						}
					}
				}
			]
		},
		{
			"name": "Cars",
			"item": [
				{
					"name": "Get All Cars",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cars",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cars"
							]
						}
					}
				},
				{
					"name": "Get Car by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cars/{{car_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cars",
								"{{car_id}}"
							]
						}
					}
				},
				{
					"name": "Search Cars",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Toyota\",\n  \"minYear\": 2020,\n  \"maxDailyRate\": 100,\n  \"fuelType\": \"Gasoline\",\n  \"transmission\": \"Automatic\",\n  \"minSeats\": 4,\n  \"isAvailable\": true,\n  \"availableFrom\": \"2025-12-15T00:00:00Z\",\n  \"availableTo\": \"2025-12-20T00:00:00Z\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/cars/search",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cars",
								"search"
							]
						}
					}
				},
				{
					"name": "Create Car",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"make\": \"Toyota\",\n  \"model\": \"Camry\",\n  \"year\": 2023,\n  \"color\": \"Silver\",\n  \"licensePlate\": \"ABC123\",\n  \"dailyRate\": 75.00,\n  \"fuelType\": \"Gasoline\",\n  \"transmission\": \"Automatic\",\n  \"seats\": 5,\n  \"imageUrl\": \"https://example.com/toyota-camry.jpg\",\n  \"description\": \"Reliable and fuel-efficient sedan\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/cars",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cars"
							]
						}
					}
				},
				{
					"name": "Update Car",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"dailyRate\": 85.00,\n  \"isAvailable\": false,\n  \"description\": \"Updated description for the car\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/cars/{{car_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cars",
								"{{car_id}}"
							]
						}
					}
				},
				{
					"name": "Check Car Availability",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cars/{{car_id}}/availability?from=2025-12-15T00:00:00Z&to=2025-12-20T00:00:00Z",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cars",
								"{{car_id}}",
								"availability"
							],
							"query": [
								{
									"key": "from",
									"value": "2025-12-15T00:00:00Z"
								},
								{
									"key": "to",
									"value": "2025-12-20T00:00:00Z"
								}
							]
						}
					}
				},
				{
					"name": "Delete Car",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/cars/{{car_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"cars",
								"{{car_id}}"
							]
						}
					}
				}
			]
		},
		{
			"name": "Bookings",
			"item": [
				{
					"name": "Get All Bookings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/bookings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings"
							]
						}
					}
				},
				{
					"name": "Get Booking by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/bookings/{{booking_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings",
								"{{booking_id}}"
							]
						}
					}
				},
				{
					"name": "Get Bookings by Customer",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/bookings/customer/{{customer_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings",
								"customer",
								"{{customer_id}}"
							]
						}
					}
				},
				{
					"name": "Get Bookings by Car",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/bookings/car/{{car_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings",
								"car",
								"{{car_id}}"
							]
						}
					}
				},
				{
					"name": "Create Booking",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customerId\": \"{{customer_id}}\",\n  \"carId\": \"{{car_id}}\",\n  \"pickupDate\": \"2025-12-15T10:00:00Z\",\n  \"returnDate\": \"2025-12-20T10:00:00Z\",\n  \"pickupLocation\": \"Airport Terminal 1\",\n  \"returnLocation\": \"Airport Terminal 1\",\n  \"notes\": \"Customer prefers automatic transmission\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/bookings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings"
							]
						}
					}
				},
				{
					"name": "Update Booking",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pickupDate\": \"2025-12-16T10:00:00Z\",\n  \"returnDate\": \"2025-12-21T10:00:00Z\",\n  \"status\": \"Confirmed\",\n  \"notes\": \"Updated pickup time\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/bookings/{{booking_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings",
								"{{booking_id}}"
							]
						}
					}
				},
				{
					"name": "Cancel Booking",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/bookings/{{booking_id}}/cancel",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings",
								"{{booking_id}}",
								"cancel"
							]
						}
					}
				},
				{
					"name": "Delete Booking",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/bookings/{{booking_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"bookings",
								"{{booking_id}}"
							]
						}
					}
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Get All Payments",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments"
							]
						}
					}
				},
				{
					"name": "Get Payment by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/{{payment_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"{{payment_id}}"
							]
						}
					}
				},
				{
					"name": "Get Payments by Booking",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/booking/{{booking_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"booking",
								"{{booking_id}}"
							]
						}
					}
				},
				{
					"name": "Get Payments by Customer",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/payments/customer/{{customer_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"customer",
								"{{customer_id}}"
							]
						}
					}
				},
				{
					"name": "Create Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bookingId\": \"{{booking_id}}\",\n  \"customerId\": \"{{customer_id}}\",\n  \"amount\": 375.00,\n  \"currency\": \"USD\",\n  \"paymentMethod\": 0,\n  \"paymentProvider\": 0,\n  \"description\": \"Payment for car rental booking\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/payments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments"
							]
						}
					}
				},
				{
					"name": "Stripe - Create Payment Intent",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bookingId\": \"{{booking_id}}\",\n  \"customerId\": \"{{customer_id}}\",\n  \"amount\": 375.00,\n  \"currency\": \"USD\",\n  \"description\": \"Car rental payment via Stripe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/payments/stripe/create-intent",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"stripe",
								"create-intent"
							]
						}
					}
				},
				{
					"name": "Stripe - Confirm Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paymentId\": \"{{payment_id}}\",\n  \"transactionId\": \"pi_1234567890\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/payments/stripe/confirm",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"stripe",
								"confirm"
							]
						}
					}
				},
				{
					"name": "PayPal - Create Order",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"bookingId\": \"{{booking_id}}\",\n  \"customerId\": \"{{customer_id}}\",\n  \"amount\": 375.00,\n  \"currency\": \"USD\",\n  \"description\": \"Car rental payment via PayPal\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/payments/paypal/create-order",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"paypal",
								"create-order"
							]
						}
					}
				},
				{
					"name": "PayPal - Capture Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"paymentId\": \"{{payment_id}}\",\n  \"payerId\": \"PAYER123456789\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/payments/paypal/capture",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"paypal",
								"capture"
							]
						}
					}
				},
				{
					"name": "Update Payment Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"Succeeded\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/payments/{{payment_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"{{payment_id}}",
								"status"
							]
						}
					}
				},
				{
					"name": "Refund Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 100.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/payments/{{payment_id}}/refund",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"payments",
								"{{payment_id}}",
								"refund"
							]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000",
			"type": "string"
		},
		{
			"key": "customer_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "customer_email",
			"value": "john.doe@example.com",
			"type": "string"
		},
		{
			"key": "car_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "booking_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "payment_id",
			"value": "",
			"type": "string"
		}
	]
}
